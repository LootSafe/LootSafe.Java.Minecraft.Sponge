plugins {
    id 'org.spongepowered.plugin' version '0.6'
    id "com.github.johnrengelman.shadow" version "2.0.1"
}

apply plugin: 'java'

group 'io.lootsafe.api.java.minecraft.sponge'
version '1.0-SNAPSHOT'
description 'Java Client for LootSafe API'

sourceCompatibility = 1.8

repositories {
    mavenCentral()
}

dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.12'
    //compile 'org.spongepowered:spongeapi:5.0.0'
    //compile 'org.spongepowered:spongeapi:6.0.0'
    compile 'org.spongepowered:spongeapi:7.0.0'
    compile fileTree(dir: 'lib', include: '*.jar')
}


shadowJar {
    dependencies {
        exclude(dependency('org.spongepowered::'))
    }
    classifier = "complete"
}

jar {
    manifest {
        attributes(
                'Class-Path': configurations.compile.collect { it.getName() }.join(' '),
        )
    }
}

build.dependsOn(shadowJar)
